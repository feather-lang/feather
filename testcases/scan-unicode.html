<test-suite name="scan %c Unicode codepoint handling">
  <!-- Test %c with Unicode characters -->

  <test-case name="scan: %c ASCII character">
    <script>scan "A" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>65</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c Latin A with acute">
    <script>scan "√Å" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>193</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c German umlaut u">
    <script>scan "√º" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>252</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c Greek Omega">
    <script>scan "Œ©" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>937</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c middot">
    <script>scan "¬∑" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>183</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c Chinese character">
    <script>scan "‰∏≠" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>20013</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c emoji wave">
    <script>scan "üëã" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>128075</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c first character from string">
    <script>scan "√ºber" %c</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>252</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c with remaining characters">
    <script>scan "Œ©mega" "%c%s" c rest</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>2</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c with remaining characters verify values">
    <script>set count [scan "Œ©mega" "%c%s" c rest]
list $count $c $rest</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>2 937 mega</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: multiple %c with Unicode">
    <script>scan "‰Ω†Â•Ω" "%c%c" c1 c2</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>2</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: multiple %c with Unicode verify values">
    <script>set count [scan "‰Ω†Â•Ω" "%c%c" c1 c2]
list $count $c1 $c2</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>2 20320 22909</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <!-- Test %c inline mode with Unicode -->

  <test-case name="scan: %c inline mode Unicode">
    <script>scan "‰∏≠ÂõΩ" "%c%c"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>20013 22269</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

  <test-case name="scan: %c inline mode emoji">
    <script>scan "üëãüåç" "%c%c"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>128075 127757</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>

</test-suite>
