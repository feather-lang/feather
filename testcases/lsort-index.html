<test-suite name="lsort -index option">

<test-case name="lsort -index basic">
  <script>
    lsort -index 1 {{a 3} {b 1} {c 2}}
  </script>
  <return>TCL_OK</return>
  <stdout>{b 1} {c 2} {a 3}</stdout>
</test-case>

<test-case name="lsort -index first element">
  <script>
    lsort -index 0 {{c 1} {a 2} {b 3}}
  </script>
  <return>TCL_OK</return>
  <stdout>{a 2} {b 3} {c 1}</stdout>
</test-case>

<test-case name="lsort -index with -integer">
  <script>
    lsort -integer -index 1 {{a 10} {b 2} {c 20}}
  </script>
  <return>TCL_OK</return>
  <stdout>{b 2} {a 10} {c 20}</stdout>
</test-case>

<test-case name="lsort -index with -decreasing">
  <script>
    lsort -index 0 -decreasing {{a 1} {c 2} {b 3}}
  </script>
  <return>TCL_OK</return>
  <stdout>{c 2} {b 3} {a 1}</stdout>
</test-case>

<test-case name="lsort -index with -nocase">
  <script>
    lsort -index 0 -nocase {{C 1} {a 2} {B 3}}
  </script>
  <return>TCL_OK</return>
  <stdout>{a 2} {B 3} {C 1}</stdout>
</test-case>

<test-case name="lsort -index with -unique">
  <script>
    lsort -index 0 -unique {{a 1} {b 2} {a 3}}
  </script>
  <return>TCL_OK</return>
  <stdout>{a 3} {b 2}</stdout>
</test-case>

<test-case name="lsort -index empty list">
  <script>
    lsort -index 0 {}
  </script>
  <return>TCL_OK</return>
  <stdout></stdout>
</test-case>

<test-case name="lsort -index single element">
  <script>
    lsort -index 0 {{a 1}}
  </script>
  <return>TCL_OK</return>
  <stdout>{a 1}</stdout>
</test-case>

<test-case name="lsort -index missing argument">
  <script>
    lsort -index {a b c}
  </script>
  <return>TCL_ERROR</return>
  <error>"-index" option must be followed by list index</error>
  <exit-code>1</exit-code>
</test-case>

</test-suite>
