<test-suite>
  <test-case name="invoking a host command without arguments">
    <script>say-hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="skipping initial whitespace">
    <script>    say-hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="skipping trailing whitespace">
    <script>say-hello    </script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="newlines separate commands">
    <script>say-hello
    say-hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>
      hello
      hello
    </stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="command with one argument">
    <script>echo hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="braces quote and nest">
    <script>echo {hello {world}}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello {world}</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="unbalanced braces cause tell that parser needs more">
    <script>echo {hello {world}</script>
    <return>TCL_OK</return>
    <result>{INCOMPLETE 5 19}</result>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>2</exit-code>
  </test-case>
  <test-case name="extra close braces causes an error">
    <script>echo {}}</script>
    <return>TCL_ERROR</return>
    <result>{ERROR 5 8 {extra characters after close-brace}}</result>
    <error>extra characters after close-brace</error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>3</exit-code>
  </test-case>
  <test-case name="braces preserve whitespace">
    <script>echo {hello world}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="multiple levels of nested braces">
    <script>echo {a{b{c}d}e}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>a{b{c}d}e</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="empty braces produce empty string">
    <script>echo {}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="multiple braced arguments">
    <script>echo {hello} {world}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="braces preserve newlines">
    <script>echo {line1
line2}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>line1
line2</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="double quotes preserve whitespace">
    <script>echo "hello world"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="empty double quotes produce empty string">
    <script>echo ""</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="multiple double-quoted arguments">
    <script>echo "hello" "world"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="double quotes preserve newlines">
    <script>echo "line1
line2"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>line1
line2</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="unbalanced double quotes cause incomplete parse">
    <script>echo "hello world</script>
    <return>TCL_OK</return>
    <result>{INCOMPLETE 5 17}</result>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>2</exit-code>
  </test-case>
  <test-case name="extra characters after close-quote causes an error">
    <script>echo ""x</script>
    <return>TCL_ERROR</return>
    <result>{ERROR 5 8 {extra characters after close-quote}}</result>
    <error>extra characters after close-quote</error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>3</exit-code>
  </test-case>
  <test-case name="semicolons separate commands">
    <script>echo a; echo b</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>a
b</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash escapes dollar sign">
    <script>echo \$notavar</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>$notavar</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-newline continuation">
    <script>echo hello \
world</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="comments are ignored">
    <script># this is a comment
echo hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="mixed quoting produces single word">
    <script>echo "a"b{c}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>abc</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-a produces bell character">
    <script>echo \a</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>&#x07;</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-b produces backspace character">
    <script>echo \b</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>&#x08;</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-f produces form feed character">
    <script>echo \f</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>&#x0C;</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-n produces newline character">
    <script>echo \n</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>
</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-r produces carriage return character">
    <script>echo \r</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>&#x0D;</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-t produces tab character">
    <script>echo \t</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>	</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-v produces vertical tab character">
    <script>echo \v</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>&#x0B;</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="double backslash produces single backslash">
    <script>echo \\</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>\</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-octal produces character by octal code">
    <script>echo \101</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>A</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-x produces character by hex code">
    <script>echo \x41</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>A</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-u produces character by 16-bit unicode">
    <script>echo \u0041</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>A</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="backslash-U produces character by 21-bit unicode">
    <script>echo \U00000041</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>A</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
</test-suite>
