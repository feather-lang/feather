<test-suite>
  <test-case name="invoking a host command without arguments">
    <script>say-hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="skipping initial whitespace">
    <script>    say-hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="skipping trailing whitespace">
    <script>say-hello    </script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="newlines separate commands">
    <script>say-hello
    say-hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>
      hello
      hello
    </stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="command with one argument">
    <script>echo hello</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="braces quote and nest">
    <script>echo {hello {world}}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello {world}</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="unbalanced braces cause tell that parser needs more">
    <script>echo {hello {world}</script>
    <return>TCL_OK</return>
    <result>{INCOMPLETE 5 19}</result>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>2</exit-code>
  </test-case>
  <test-case name="extra close braces causes an error">
    <script>echo {}}</script>
    <return>TCL_ERROR</return>
    <result>{ERROR 5 8}</result>
    <error>extra characters after close-brace</error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>3</exit-code>
  </test-case>
  <test-case name="braces preserve whitespace">
    <script>echo {hello world}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="multiple levels of nested braces">
    <script>echo {a{b{c}d}e}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>a{b{c}d}e</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="empty braces produce empty string">
    <script>echo {}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="multiple braced arguments">
    <script>echo {hello} {world}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="braces preserve newlines">
    <script>echo {line1
line2}</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>line1
line2</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="double quotes preserve whitespace">
    <script>echo "hello world"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="empty double quotes produce empty string">
    <script>echo ""</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="multiple double-quoted arguments">
    <script>echo "hello" "world"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>hello world</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="double quotes preserve newlines">
    <script>echo "line1
line2"</script>
    <return>TCL_OK</return>
    <error></error>
    <stdout>line1
line2</stdout>
    <stderr></stderr>
    <exit-code>0</exit-code>
  </test-case>
  <test-case name="unbalanced double quotes cause incomplete parse">
    <script>echo "hello world</script>
    <return>TCL_OK</return>
    <result>{INCOMPLETE 5 17}</result>
    <error></error>
    <stdout></stdout>
    <stderr></stderr>
    <exit-code>2</exit-code>
  </test-case>
</test-suite>
