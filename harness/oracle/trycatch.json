{
  "feature": "trycatch",
  "tclsh": "tclsh",
  "tests": [
    {
      "name": "catch-1.1",
      "file": "spec/tests/trycatch/catch-1.1.tcl",
      "script": "# Test: catch returns 0 for successful script\nputs [catch {expr 1 + 1}]\n",
      "stdout": "0\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "catch-1.2",
      "file": "spec/tests/trycatch/catch-1.2.tcl",
      "script": "# Test: catch returns 1 for error\nputs [catch {error \"oops\"}]\n",
      "stdout": "1\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "catch-1.3",
      "file": "spec/tests/trycatch/catch-1.3.tcl",
      "script": "# Test: catch stores result in variable\ncatch {expr 2 * 3} result\nputs $result\n",
      "stdout": "6\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "catch-1.4",
      "file": "spec/tests/trycatch/catch-1.4.tcl",
      "script": "# Test: catch stores error message in variable\ncatch {error \"something went wrong\"} msg\nputs $msg\n",
      "stdout": "something went wrong\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "catch-1.5",
      "file": "spec/tests/trycatch/catch-1.5.tcl",
      "script": "# Test: catch in if condition\nif {[catch {error \"fail\"}]} {\n    puts \"error caught\"\n} else {\n    puts \"no error\"\n}\n",
      "stdout": "error caught\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "throw-1.1",
      "file": "spec/tests/trycatch/throw-1.1.tcl",
      "script": "# Test: throw generates error\nthrow {MYERR} \"custom error\"\n",
      "stdout": "",
      "stderr": "custom error\n    while executing\n\"throw {MYERR} \"custom error\"\"\n    (file \"spec/tests/trycatch/throw-1.1.tcl\" line 2)\n",
      "returncode": 1
    },
    {
      "name": "throw-1.2",
      "file": "spec/tests/trycatch/throw-1.2.tcl",
      "script": "# Test: throw caught by catch\nif {[catch {throw {MYERR} \"oops\"}]} {\n    puts \"caught\"\n}\n",
      "stdout": "caught\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "try-1.1",
      "file": "spec/tests/trycatch/try-1.1.tcl",
      "script": "# Test: try with on error handler\ntry {\n    error \"oops\"\n} on error {msg} {\n    puts \"caught: $msg\"\n}\n",
      "stdout": "caught: oops\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "try-1.2",
      "file": "spec/tests/trycatch/try-1.2.tcl",
      "script": "# Test: try with finally clause\ntry {\n    puts \"body\"\n} finally {\n    puts \"cleanup\"\n}\n",
      "stdout": "body\ncleanup\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "try-1.3",
      "file": "spec/tests/trycatch/try-1.3.tcl",
      "script": "# Test: try with error and finally\ntry {\n    error \"fail\"\n} on error {msg} {\n    puts \"error: $msg\"\n} finally {\n    puts \"cleanup\"\n}\n",
      "stdout": "error: fail\ncleanup\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "try-1.4",
      "file": "spec/tests/trycatch/try-1.4.tcl",
      "script": "# Test: try with on ok handler\ntry {\n    expr 1 + 2\n} on ok {result} {\n    puts \"result: $result\"\n}\n",
      "stdout": "result: 3\n",
      "stderr": "",
      "returncode": 0
    },
    {
      "name": "try-1.5",
      "file": "spec/tests/trycatch/try-1.5.tcl",
      "script": "# Test: try body succeeds, no handler matched\ntry {\n    puts \"success\"\n} on error {msg} {\n    puts \"should not print\"\n}\n",
      "stdout": "success\n",
      "stderr": "",
      "returncode": 0
    }
  ]
}